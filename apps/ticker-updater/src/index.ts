import * as cron from 'node-cron';
import { updateTickers } from './updateTickers';

console.log('âœ… Ð¡ÐµÑ€Ð²Ð¸Ñ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ñ‚Ð¸ÐºÐµÑ€Ð¾Ð² Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½.');

// ðŸŸ¢ Ð¡Ñ€Ð°Ð·Ñƒ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ (Ð´Ð»Ñ Ñ‚ÐµÑÑ‚Ð°)
(async () => {
	console.log('ðŸ”„ ÐŸÑ€Ð¸Ð½ÑƒÐ´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð·Ð°Ð¿ÑƒÑÐº Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ñ‚Ð¸ÐºÐµÑ€Ð¾Ð²...');
	await updateTickers();
	console.log('âœ… ÐŸÑ€Ð¸Ð½ÑƒÐ´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¾!');
})();

// Ð—Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ cron ÐºÐ°Ð¶Ð´Ñ‹Ðµ 1 Ð¼Ð¸Ð½ÑƒÑ‚Ñƒ Ð´Ð»Ñ Ñ‚ÐµÑÑ‚Ð°
cron.schedule('*/1 * * * *', async () => {
	console.log('ðŸ”„ ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ‚Ð¸ÐºÐµÑ€Ð¾Ð²...');
	await updateTickers();
	console.log('âœ… Ð“Ð¾Ñ‚Ð¾Ð²Ð¾!');
});

// ÐžÑÑ‚Ð°Ð²Ð»ÑÐµÐ¼ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ "Ð¶Ð¸Ð²Ñ‹Ð¼"
setInterval(() => {}, 1000 * 60 * 60);
